"use strict";(self.webpackChunkwww=self.webpackChunkwww||[]).push([[521],{364:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var n=a(1151),s=a(7294);function l(e){const t=Object.assign({h1:"h1",a:"a",span:"span",h2:"h2",p:"p",ul:"ul",li:"li",h3:"h3"},(0,n.ah)(),e.components);return s.createElement(s.Fragment,null,s.createElement(t.h1,{id:"kusto-detective---rookie---onboarding",style:{position:"relative"}},s.createElement(t.a,{href:"#kusto-detective---rookie---onboarding","aria-label":"kusto detective   rookie   onboarding permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"Kusto Detective - Rookie - Onboarding"),"\n",s.createElement(t.h2,{id:"introduction",style:{position:"relative"}},s.createElement(t.a,{href:"#introduction","aria-label":"introduction permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"Introduction"),"\n",s.createElement(t.p,null,"Microsoft has created this wonderful CTF like challenge for all of us to go into the depths of some possibilities that resides in the Kusto Query Language (KQL). Now, not to spoil everything I really hope that you have tried your best before landing here - because I will provide you with one of many solution to get through this series of tasks, starting with the onboarding. This is considered as a “Rookie” level, which is your starting title in upper right corner on the dashboard."),"\n",s.createElement(t.p,null,"This article is aimed towards beginners that needs to “fill in the gaps”. Therefore things are explained with this in mind. I would also like to point out that these tasks takes into consideration that you practice in between the steps provided here. Like many programs and softwares we run, this challenge also has it quirks - at the end of some of the guides (including this) you will find some help for troubleshooting."),"\n",s.createElement(t.p,null,"Do not expect these tasks to go lightly if you do not practice. With this series of walkthroughs I would like to minimize that gap, but also to provide you some insight into how I aproached these - as I used these tasks myself to get better at KQL. Reading KQL (as with most languages) might be a lot easier than writing it, especially when all you have is a goal in mind and do not know the syntax nor the possibilities."),"\n",s.createElement(t.p,null,"If you want a more thorough lesson on KQL, here’s a short list that will take you really far:"),"\n",s.createElement(t.ul,null,"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://aka.ms/MustLearnKQL",target:"_blank",rel:"noreferrer"},"Must learn KQL by Rod Trent")),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://learn.microsoft.com/en-us/azure/data-explorer/",target:"_blank",rel:"noreferrer"},"Microsoft Learn modules ADX")),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/",target:"_blank",rel:"noreferrer"},"Microsoft Learn modules KQL")),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://learn.microsoft.com/en-us/training/modules/intro-to-azure-data-explorer/",target:"_blank",rel:"noreferrer"},"ADX training modules MS Learn")),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"https://www.pluralsight.com/partners/microsoft/azure-data-explorer",target:"_blank",rel:"noreferrer"},"Pluralsight courses")),"\n",s.createElement(t.li,null,s.createElement(t.a,{href:"http://aka.ms/StartKqlVideo",target:"_blank",rel:"noreferrer"},"John Saville video")),"\n"),"\n",s.createElement(t.h2,{id:"lets-dive-in",style:{position:"relative"}},s.createElement(t.a,{href:"#lets-dive-in","aria-label":"lets dive in permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"Let’s dive in"),"\n",s.createElement(t.p,null,"Go to https://detective.kusto.io/inbox and click “Go to inbox”. (PS: if you are returning and logged out, you need to enter your Cluster URI once more to get back to where you were)."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 910px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 68.46153846153847%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACOUlEQVR42l3O+27TMBQG8LzC2Lo263rLtc49aWLHsdvc267ttq4UBkhIiD8Q4hGQeA0k3paTRBoT0k+fPidHxxbMpOoYkKyyeG2yGtFyUR7izSNZP8abo5GURjvwH2FO8hcoLkyYo6WOs0W+f/764/zlO90edZK9Hnsh6FH2T9gkwjlYZLv66dPp87e4ftDC9NVM2mq6oPhM8XmbDbnjMQPnDq1sWppxoQRcDZYdbQFWGpRgKaAonUcrgDCUtDvq4XIWcolmcpJJeKn4idyshkyUoL3GS2QvEUixj/Jdh5QHXOwhw2zbbMQpIlmzyCEzJwZTm4DuCEVwk8rntcfWDi19vnZZFfC1l1RRegclXG1dWqo+03yuepBMa5IDPeBCtj3V98/l/lzdvy8P79aPH7ZPH6F0iv0Z5LtzfndKN0/57u1qc8zuTqx6cEghuHHuw51JFbDKo0WXLsltnNo4c0gGR82lI80f6/5YC6CM9MZQcQXks7mXQAJzsQSSGYmSJUo2uJGBA25Vt+WNtAYUICgWQQGXrag3Rv2pcT1BoD81B5I1UGxRdUTFGcysdp0FH+FXf9aAj0JAizjdBrQMWbVISigRr61oZfrMMLCBMHKoFa7sEB7FzYAjP4GXWuFSNiNBswlyqWph3SZzJ9ZsPHfpWHaGZqAc9/LxMPLxzcS4gasmhjg1xDaHM2swRsKlKL8ZNC76EmiKKF9cToaUOb9/un9+jbf1VW/WG+lXQxX0brXGULu+1f8CQtOnxOgX7AIAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108121526"\n        title=""\n        src="/static/a1ac41b7eff918e3ee45f788ec37c8f9/9d517/20221108121526.png"\n        srcset="/static/a1ac41b7eff918e3ee45f788ec37c8f9/9d517/20221108121526.png 910w"\n        sizes="(max-width: 910px) 100vw, 910px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Click the first message you have received there and read through it. You are presented with an instruction on how to set up your first cluster of data within Azure Data Explorer (ADX). This should be easy. The guide provided there are pretty straight forward, I’ll just leave a Screenshot for future reference:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1500px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 50.26666666666667%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAByUlEQVR42mMISs8Nis9wCow0cw8wdPIBIn0HLz17TzgCcrEiA0dvBm1rVy0rFx0bN1vvYHu/MCAyd/c3dvY1dPTWs3PXt/cAqtO2cdWydsFEDBqmDipGtno27pPmLluxZv3K9ZtXrtmwZOnKlavWr12/adqchRpmDuqm9lgRg6qRjaK+pZ6Vc8vM1ROWbt28fdf2XXs3btq6ZeuOnbv2LlmxRsXQWtnACkhiIgZFXQs5LVN1Y9v2/mnTFyybPnfRrPmL5yxaNmXW/PlLVhRU1MlqmgDVKOiYYyIGeQ1jKRV9TSObQyfPX7z18Pqte4fO3Th54cbFa7ePXHkwadZCUXlNeQ0jWXVDNCSnbsQgraInrqCtrGM6e8GyFRu2LV26ev7cJUC0aOnqJeu3l9W2iiloy6obyagZIiEDGVUDoJUM4vJaorKaEgpa6vrG6tq6Ckqqikoqikqq8orKIFJJTUEZhOSVoQwQW0lVRV1LWU2bQVRaTURKFUjKqWgrKGtKyShJSYOQrJyKoqq2nLK2jJyqrIK6rIIaGEEY6nKK6jIK6gyCogoCIvJAUkhcSUhMiV9EAYIERBVFJFREZNSkTCyEJVQwkZC4MgBPKqOZxK72/AAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108122131"\n        title=""\n        src="/static/4a331b60615d8c506034d4fa2ca2b795/6ffd1/20221108122131.png"\n        srcset="/static/4a331b60615d8c506034d4fa2ca2b795/6ffd1/20221108122131.png 1500w"\n        sizes="(max-width: 1500px) 100vw, 1500px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"There are, as you can see a blade called “Hints”. On this you can get at most three hints. Ill keep a screenshot on every artice in the series and incorporate them into my solutions somehow. For this Rookie badge, we are not provided any hints, as it is considered to low level."),"\n",s.createElement(t.h1,{id:"setting-up-the-cluster",style:{position:"relative"}},s.createElement(t.a,{href:"#setting-up-the-cluster","aria-label":"setting up the cluster permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"Setting up the cluster"),"\n",s.createElement(t.p,null,"Go to https://aka.ms/kustofree and click “Create cluster and database”."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 631px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 70.99841521394612%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABh0lEQVR42qWRPUvDQBjH4yC4qt/CqYuTg5/AzVEEwUkQBF+RBISigy5FXRTp5FCcFKmopbaTIqUULcWWIm2TXHKXXEKuoamJTWJNUNSmVfDhueX+z+95pdwuZjue267jdAtxqcDfr4Dj+Z9gP0437Y2kPH5YmTrh87D5I10w7Ae0HHc1LszGnpfPqmN7xQG6kOENf5BecMvT40U9tF0wdNV1dElVh+n8RLT2O/zq6dF7dYh5LHOSXidAUkKRp5GdcmDn3yt7epZv9q88zBwXD9KV0xyYjJamY5xX2QmGnQ/zO1+6EKn5XN9cdpDOje6WSrLpD/VpXU/lK+nqC5NUIncENuxe27Ysi2VrIhR5nkcI8kDggCBDQCRBk4CC5RrHQ1FkORYhJAgCIcRv9h02LVMAACEJtp8kNzRs6UqTYEOT66pkEMUguJ0CIogxRhD6cMedvd6OMhqdkDdTSjiFwzd4K4WZhMxqVufOAuD9W2XhXFy/QmuXsO3MNVqMixXV6jw15f7D3gDrzAskEGnTAgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108122702"\n        title=""\n        src="/static/60a17c0304d668926b180393bc1e53aa/077d3/20221108122702.png"\n        srcset="/static/60a17c0304d668926b180393bc1e53aa/077d3/20221108122702.png 631w"\n        sizes="(max-width: 631px) 100vw, 631px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Approve terms of service and create (Change cluster name and database name if you want). It may load for a minute or so."),"\n",s.createElement(t.p,null,"Copy the Cluster URI and paste it into the solution boxes on the detective dashboard, which may look like this:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 677px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 95.42097488921712%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAD30lEQVR42m3Sa1MbVRgH8P0ItUwJSXZz2d3cCV7a0Wnf+07E8YKUptCGDGARCs6UUqSVQUGBVEEqpc4o9dJadNqqtGCLJiHJ3nKy981eEhKgn8TDpa905zfP/OeZc87M88wiH139bHQyOTaVHJucHZ/+amxqFro6lRwen/pw5BrUP3Lt4ug4NPDcYb7yCfLTX9zyhsywHFPgWYgDJd2sbu9Wd55VSoYMiiVZrZrlLdPaVz5Q1a3t7V1kI5VlGA7QlFBgOIZOZymK4QpFoSgpRYajHq0xj9dZigF5GsC6r0CxfI6RFQ355W8w8bv6xaoy8VC+ndZNyzQr1a3aztb2TnmrpoqymkorJd0wy4ZhmVbZLFcsq2JYlXJtFxmauN4xNt/x8VxsdK7/069n5hZm5heTC0vJhZtf3rg1s7C0ODmTnFucnl+c2QfD9BwMN6/f+BZpbo21dcRbY+dPd3a1no2/2XburfZ4y+nzLe3n34klmtvjsdaOtndjzWe63j7TBfvwAKwwv97yPrK6/pTmgKhovKwJsiZruqzqcGYgSLApaLrEAS1Pi6rOFoqAF/dOSopRrizfWUH+yeRAUeRFWZKVogi3YCiaDnfGFQVRUiB+b+yMIKvpbD5L0RJcpCCWDGv55xXk6SYNFDPHa2uUxIglWtBYQWUFjRNKKV5LA42VdJDKA06gxRLDa6usvAkUyagu/XAPWU9RjKhnCurtJyAH1HxRY0UtJ5QkzRq5T8dnV4p6mc4WQI6lJCMLlDc+f3Drz7xq1r75/i68nIeXqaKS4eQ8UCheZViBSlF0hn78KPXgtzVmk6WfZMDaBi2U8kCev59bzQBJryx+dweBfwWcStNN3SrrhqVXqioHCulNoVA0ZEUVJJ7jhQKvPvwDbkstGbXqlm6atd1nP979FUn0DfUNXb4weLl34BL0AQwXhhId3YnO7u5zvYnOHije2TN4NtHfO9h9cbhnYLi7/1Lf0JX3YgnEF3klED2B4uEGl9/mJOod3gaMtHsCNpfvgN3tr/cEcJTwO/FjKGlDCRtK1qOEw+1HyEg0evJU42snX371eKgx4A2EPF4cRVEMw1wuF/b8c2PYcacTdbnc+10XhkIIHgwFXnrRF4lGIoFQyB/0+UIkGSTxEEkECDxI4AGYYSCJU1532ON2E34iGCFCjbg/hLjIJrevyeWLevxRry/qxPx2lHRgPugg2NG9bMN8YScRxmFpdJFReAsjokgDFrRhgUOuYJ2DPNpA/NeRBsLuIE8QjXZfk5OIwiccRCPi8IQPufdqnZ08YsNf+D91dgL3ho55w/V7Ikcx/7+TJ0Odj2AP/gAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108123214"\n        title=""\n        src="/static/c48bef7f268e3a7ae6c16a956f7ff203/3c503/20221108123214.png"\n        srcset="/static/c48bef7f268e3a7ae6c16a956f7ff203/3c503/20221108123214.png 677w"\n        sizes="(max-width: 677px) 100vw, 677px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Now, copy the query in the code box on the detective dashboard:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql">    <span class="token punctuation">.</span><span class="token keyword">execute</span> <span class="token keyword">database</span> script <span class="token operator">&lt;</span><span class="token operator">|</span>\n    <span class="token comment">// Create table for the data</span>\n    <span class="token punctuation">.</span><span class="token keyword">create</span><span class="token operator">-</span><span class="token keyword">merge</span> <span class="token keyword">table</span> Onboarding<span class="token punctuation">(</span>Score:long<span class="token punctuation">)</span>\n    <span class="token comment">// Import data</span>\n    <span class="token punctuation">.</span>ingest <span class="token keyword">into</span> <span class="token keyword">table</span> Onboarding <span class="token punctuation">(</span><span class="token string">\'https://kustodetectiveagency.blob.core.windows.net/onboarding/onboarding.csv.gz\'</span><span class="token punctuation">)</span> <span class="token keyword">with</span> <span class="token punctuation">(</span>ignoreFirstRecord<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(t.p,null,"Go into where you can query data and paste the query:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1011px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 34.718100890207715%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABFElEQVR42p2QTU7EMAyFez9uxRmQuAFr2LODDRsQYjvDgMTATKdN2/zZju0Ed8QJeMri6eVT7LwupVRrbf9SNw7DNLlSCCEjokUiMgynGAISAQACiLCZ4+HHjWOGVYgWSpexJCxQBIhzEZKKhZeYMrGKsqoZsxno5KbJB1UllkxSWLsZxGPdufKyB4/qkgSUGTSR3u3i49aZmbIx4qn1kW/ejpthJT1IZxcL6s7R6zcsKGNaOZeVWru8317dPnFrLvEMHLC+n/LF9fPDZsrc5sydz7QkSmUdtZ5SYfLzYQi9owC2xQIaUBPyHDGiDMFeESOhaJfOsp6s86pqvde+j58fZf+l3iduEXj9YSneeyvpjzzrFyh4kezCx1OPAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108123439"\n        title=""\n        src="/static/133d697928dbe1b589b45cd0e0dcd3d1/0d97d/20221108123439.png"\n        srcset="/static/133d697928dbe1b589b45cd0e0dcd3d1/0d97d/20221108123439.png 1011w"\n        sizes="(max-width: 1011px) 100vw, 1011px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"The best shortcut you’ll ever learn is “SHIFT+ENTER” to run a query. The query runs for a few seconds. What has happened you may think… This query has ingested data that we should continue using for this Rookie task, meaning this was a necessary step to get to work further. This step of ingestion will be repeated for every new task coming, and time for ingestion may take a lot longer than now, depending on how much data is being processed."),"\n",s.createElement(t.p,null,"Let’s take a look at what data has been ingested by running this query:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql">Onboarding</code></pre></div>'}}),"\n",s.createElement(t.p,null,"As simple as that. This query asks the database for all it’s content outputting it below."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 659px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 129.74203338391504%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAIAAAA44esqAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACP0lEQVR42sWUXU/bMBSG/f+vdz0J+AHTpF1Mg5tJsI0NENAWCClt0jbOh+0kdmhSf89x2VTxIVF2saNHR2/svD46jmOwt/NxfnSMvv3Y/3Dw7tPP3f2TvYOz3f3Tv+wdnO58OXn/+ddTgBV8ObhsDr9qRq21UikhpVCKS82V5lJxobQx9rkA0phmNseD6/uqoY2MIAtiHM5xlJEoLacpHicI06XWWkjllt4EKGtXCcyDOB4Gd5BECwSLKsrysqmUdMFd9mXMU3qzSGGRThZXZzGKSZ2jqoxSPM9wWZaU1XVNjaurlcvGPAgfvrKcxWQxq0aDOoOUMVQxiGpS0ppWGCOEiiRJ8jxLFvM0hVmWFUWR5zmECZDWtEffy8NzcjwSF0NjlFuyR0mX1931Qvs29YPWXgO96nQc2/vGuN1u2LO9/cE+ah7YrrWo8IPmpY15CW8uvFkra/T25ofK2zn/s7n9F3NdWcbeaNYpVO1S+YNhtgyQX4dRDKcQdR3vv9fGnPU8G+sp0J6e1+GUzSCdxu1sbgqiC6xz5FBZsabXOTIevX7040BdXJLzARqOHPnwCo2uyuuAheNmPKlugjoIWXjHwgkbT5ygt07fNeM+18Et6ILbYhoVaUrSDC8StEiqNF8SsiTlI+4xcax16zNoRyN2c7OMY04pN+7ekVyKTvCVxwuxIYQf719wALlIdNtxUhqM/AnX9tUBZALdlbeizBKy8W+90gyhkoJTZjDe2ix6s3QNv8XcVxaCuxO6vfk3irbXFHBukvoAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108124112"\n        title=""\n        src="/static/3d640b1a676c73570e7df92f778d0965/4978c/20221108124112.png"\n        srcset="/static/3d640b1a676c73570e7df92f778d0965/4978c/20221108124112.png 659w"\n        sizes="(max-width: 659px) 100vw, 659px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Now, the task is to “Enter the sum of the “Score” column”. There is a hint right there: “sum”. They want us to sum up the Score column."),"\n",s.createElement(t.p,null,"KQL has this function native: sum(). This is an aggregation function that works like you’d expect. You can do math within the brackets or simply by adding the Score column, it will add every number from that column. Read more about it ",s.createElement(t.a,{href:"https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/sum-aggfunction",target:"_blank",rel:"noreferrer"},"here")),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="sql"><pre class="language-sql"><code class="language-sql">Onboarding\n<span class="token operator">|</span> summarize <span class="token function">sum</span><span class="token punctuation">(</span>Score<span class="token punctuation">)</span></code></pre></div>'}}),"\n",s.createElement(t.p,null,"Now, paste the score into the last field on the detective dashboard. The following form leaves a note that “There are no gifts left to claim”, but your second task is open! I guess that makes for the first (few) blood badges that were available to some."),"\n",s.createElement(t.p,null,"A little curious on this I started to wonder if I had misunderstood something on the topics of ",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">sum()</code>'}})," because I though “how can all these huge positive numbers equal such a low positive number?“. By ordering the numbers ascending and descending I could not find the negative number I wanted to see to make it more logical. But I did find it by this query:"),"\n",s.createElement(t.p,null,"Onboarding\n| where Score < 0"),"\n",s.createElement(t.p,null,"As intuitive as KQL is, this is basically telling the database to output any value from the Onboarding table where Score has a value less than 0. And there it is. Run it to see for yourself."),"\n",s.createElement(t.h2,{id:"troubleshooting-ingestion",style:{position:"relative"}},s.createElement(t.a,{href:"#troubleshooting-ingestion","aria-label":"troubleshooting ingestion permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"Troubleshooting Ingestion"),"\n",s.createElement(t.p,null,"I did stumble upon some trouble when ingesting data with the query provided on the detective dashboard. The way I solved it was by copying the link provided inside the ingestion query and went for a manual ingestion."),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 373px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 81.23324396782843%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACPUlEQVR42m1S2W7bMBDU/39PH9rCaWskRdwYLYKmVxDbcmRZpA5SonhTJJWV7BQt4AGxpETM7nB3EqO1GwahrTVw1BBhDTM8/DfehzjGM+AMv0MIxo/GDsngrPXx0BraNCUAl2VdhRjHGY9ISbiOwVoLLK4jJVXHKLFjgVEyVbNTWWOtm3cQYGY458YxQh0/VwMt8CVlYF00KrYsJNbomvZHIkuMqrpxr4CEWslOOCYdcHzw0hjIhSuTHtS+6PdIJVIp1nPadh3raNsKIQFKKSGEVtpYr4yD2kAWM5kJgkl+qNOqw4mSAhTVVZntt9lzejwc8ixLd7ue9fOrpz7Nuk+VR0rqXZZmxyw75sk3rNdkXGF3k+uPG7r4Uy4eq7uj+N4MD9TfV+5r6UoZIAFXBhL1skvxdou3LafJGtvrcrxGHtaHlL/5gd7/LJ4rmlWkoIwPgQ/RhbMGiFyI7WYLsS5JAq05i3sdD2ySUo6RbJoRpFooCLODfsPEg4E+6EHDG6Q5k8+Y+aEsm3dv8+USfVrur6741ULggkvBWSclR/v8afU7fUg3t5tL5LZtP9+g2xVZ36HVF7W+U6SWCog9BFqXx1/3aPeEd/h/8gyQKMFEqGhBQlFIxv69HaxRONNVbtvqEjlMZpQaxqxh6pOxXnsBAMOfuxPDZXLf903TMMa6riOEtJT+vfV+svqcKl4mc84ppZDixIcNzAaWnzzLZXAwvWldIJ/4cR7OKXo/9FIyKb2zfI/VgWhE+aZ6AQXCkhjzXFyhAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108125714"\n        title=""\n        src="/static/04e211e75db0f243e90834b67130da50/dcf6b/20221108125714.png"\n        srcset="/static/04e211e75db0f243e90834b67130da50/dcf6b/20221108125714.png 373w"\n        sizes="(max-width: 373px) 100vw, 373px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}),"\n",s.createElement(t.p,null,"Choose your existing Cluster and Database and set a new Table name. Click next and select “Blob” and then paste the link into “Link to source”. For later tasks, you may have multiple links - for this click the “Add source” to get a new field to paste in your links."),"\n",s.createElement(t.p,null,"Click “Next: Schema”."),"\n",s.createElement(t.p,null,"This will bring you to the Schema layout. As this (the link file) is a CSV (comma separated value) file, you want to check the “Ignore the first record” which ignores the first line as this is a line containing the header of each column."),"\n",s.createElement(t.p,null,"Click “Next: Start Ingestion”"),"\n",s.createElement(t.h3,{id:"a-possible-reason",style:{position:"relative"}},s.createElement(t.a,{href:"#a-possible-reason","aria-label":"a possible reason permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"A possible reason"),"\n",s.createElement(t.p,null,"As I have noticed writing this series, when stumbling upon these issues again a lot of times, it seems as I have misunderstood the completion of data ingestion and query completion. Once an ingestion query is completed, the data is not available, yet sometimes the query runs for as long as ingestion is taking place. If you meet the issue above, try waiting a bit longer - there is no timer for the ingestion itself, the query is set to complete once it has told the backend what to do (also, the kusto detective dashboard ingestion message states how long you may have to wait for it to complete). Test this by waiting a bit longer and run this query a few times while it is loading to see if the numbers rise."),"\n",s.createElement(t.p,null,"T | count // T is replaced with tableName"),"\n",s.createElement(t.h1,{id:"next-level",style:{position:"relative"}},s.createElement(t.a,{href:"#next-level","aria-label":"next level permalink",className:"heading-anchor before"},s.createElement(t.span,{dangerouslySetInnerHTML:{__html:"<span>#</span>"}})),"Next level"),"\n",s.createElement(t.p,null,"Congratulations on finishing the first task. Check your inbox, you’ve got mail:"),"\n",s.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 242px; "\n    >\n      <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 33.88429752066116%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABZ0lEQVR42lWPWW+CUBCF+TGtW+tSrSCi7Ci7gHIxgoIXKQIuVWNMmz70p/can5qcnJzMzDfJwQjZwiXzjdPavN5i1Yc6gk7Kdu+/iLHVEQy06kpmi9MEx8fq9Fj1oAcLM0hmcOclBUhydRGVcKbc40sEWyK4al+skHyT0cEmB2Fmw8z2Iak4d3gMIjfKFS9y1zsX5iApjCAmZYuQbVp3h/qsPhzVKLFOy7ThSo5Pm15vNBloM+wZZ9QArg+3+eaYXn6C9BgU54/zbbk9hfvr6et3e/keak61LyA1GZlSHdb0nnCG0qZYmeBYCzhJbq9Sd7Wxl1mcX/0099Z7bQGtFZyFaVc0Kz2+Sgpd0aANwE7mKFPKFHvuMnoQx8eLs0wXydlfF5MoBtlnfLiAJHPDfBpmbU59wK8DCfHvol7CWQp1rvWFFqs06HF9ILUYGemFEpv3oDSGIzREAOqMhiggR/fI0a+BOv0Dffp7se03y24AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="20221108130510"\n        title=""\n        src="/static/70545015d542fc146bc9e7cbb7d42849/9ccb4/20221108130510.png"\n        srcset="/static/70545015d542fc146bc9e7cbb7d42849/9ccb4/20221108130510.png 242w"\n        sizes="(max-width: 242px) 100vw, 242px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n    </span>'}}))}var i=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,n.ah)(),e.components);return t?s.createElement(t,e,s.createElement(l,e)):l(e)},o=a(1883),r=a(9352),c=a(8032),d=a(7896),g=a(5916),m=a(197),p=a(5911),h=a(8762),u=a(9586),b=a(9951),A=a(9286),y=a(2271),f=a(5437),k=a(5555),w=a(5648),E=a(7660),v=a(8188);const x=e=>{let{image:t}=e;return t?s.createElement(c.G,{className:"gatsby-resp-image-image",image:t,alt:""}):null},I=e=>{let{data:{mdx:{body:t,tableOfContents:a,frontmatter:{author:l,title:i,date:I,categories:C,hero:N,description:S,keywords:q},fields:{slug:L},timeToRead:R,relatedPosts:T}},pageContext:{tableOfContentsLevels:V,previous:O,next:U},children:K}=e;const Q=(0,s.useRef)(null),M=(0,c.c)(null==N?void 0:N.medium),{siteUrl:z}=(0,w.$W)(),{href:F}=(0,d.useLocation)(),H=l.map((e=>{let{id:t,yamlId:a,name:n,bio:s,sns:l}=e;return{id:t,yamlId:a,name:n,bio:s,socialUrls:l.filter((e=>"mailto"!=e[0]&&"url"!=e[0])).map((e=>`${E.$s[e[0]].url}/${e[1]}`))}}));return s.createElement(g.Z,{postDescription:S,pageImage:M.images.fallback.src,pageUrl:`${z}${L}`,postTitle:i,pageTitle:i,keywords:q,date:I,timeToRead:R,authors:H},s.createElement(y.Z,{ref:Q}),s.createElement("div",{className:"hidden md:block"},s.createElement(f.Z,{className:"fixed right-[6%] bottom-[6%] flex flex-col justify-center z-50"},s.createElement(b.Z,null))),s.createElement("div",{className:"max-w-lg md:max-w-2xl mx-auto mb-24"},s.createElement("h1",{className:"text-center"},i),s.createElement(m.Z,{className:"block mb-4 text-center",date:I,timeToRead:R}),s.createElement("div",{className:"block sm:flex flex-wrap items-center justify-center sm:justify-between"},s.createElement(A.Z,{data:l}),s.createElement(h.Z,{url:F,title:i,hashtags:C.join(","),description:S,className:"space-x-6 text-xl py-4 justify-center",twitter:!0,facebook:!0,linkedin:!0,pocket:!0,copy:!0}))),s.createElement("div",{className:"text-center mb-24"},s.createElement(x,{image:M})),s.createElement("div",{className:"lg:grid lg:grid-cols-9 lg:gaps-5"},s.createElement(h.Z,{url:F,title:i,hashtags:C.join(","),description:S,className:"hidden lg:flex text-xl mt-12 flex-col lg:col-start-1 lg:col-end-3 top-[2rem] sticky self-start max-h-full overflow-y-auto space-y-6",twitter:!0,facebook:!0,linkedin:!0,pocket:!0,copy:!0}),s.createElement("article",{className:"markdown lg:col-start-3 lg:col-end-8",ref:Q},s.createElement(n.Zo,{components:{}},K)),s.createElement(k.Z,{className:"hidden lg:block lg:col-span-2 mt-12 top-[2rem] sticky self-start text-xs font-semibold ml-12 mr-auto mb-6 overflow-y-auto max-h-full",items:a.items,ref:Q,levels:V})),s.createElement("div",{className:"my-8 max-w-lg md:max-w-2xl mx-auto"},s.createElement("div",{className:"block sm:flex flex-wrap items-center justify-center sm:justify-between"},s.createElement(u.Z,{className:"my-8 justify-center",categories:C}),s.createElement(h.Z,{url:F,title:i,hashtags:C.join(","),description:S,className:"space-x-6 text-xl my-8 justify-center",twitter:!0,facebook:!0,linkedin:!0,pocket:!0,copy:!0})),s.createElement("div",{className:"flex justify-around flex-wrap text-base mt-12 mb-24"},s.createElement("div",{className:"p-4 my-4 bg-gray-50 border border-solid border-gray-100 dark:bg-gray-800 dark:border-gray-800 rounded mr-auto w-full md:w-[49%]"},s.createElement(o.Link,{to:O.slug,className:"site-link my-2 block"},s.createElement("div",{className:"flex items-start space-x-2"},s.createElement(r.YG0,{className:"block h-6 w-6"}),s.createElement("span",null,O.title)))),s.createElement("div",{className:"p-4 my-4 bg-gray-50 border border-solid border-gray-100 dark:bg-gray-800 dark:border-gray-800 rounded ml-auto w-full md:w-[49%]"},s.createElement(o.Link,{to:U.slug,className:"site-link my-2 block text-right"},s.createElement("div",{className:"flex items-start space-x-2 justify-end"},s.createElement("span",null,U.title),s.createElement(r.nzV,{className:"block h-6 w-6"}))))),s.createElement("h5",{className:"text-center mb-12"},"Written by"),l.map((e=>{let{bio:t,name:a,initial:n,avatar:l,sns:i,yamlId:o}=e;return s.createElement(p.Z,{className:"p-8 mb-4 bg-gray-50 border border-solid border-gray-100 dark:bg-gray-800 dark:border-gray-800 rounded",key:o,bio:t,name:a,initial:n,avatar:l,sns:i,yamlId:o})}))),s.createElement("div",{className:"my-24 max-w-lg sm:max-w-full mx-auto"},s.createElement("h5",{className:"mb-12 text-center"},"Related Posts"),s.createElement(v.Z,{posts:T,className:"grid sm:grid-cols-3 row-auto auto-cols-auto gap-8"})))};function C(e){return s.createElement(I,e,s.createElement(i,e))}}}]);
//# sourceMappingURL=component---node-modules-pitayan-gatsby-theme-pitayan-src-templates-post-index-tsx-content-file-path-content-posts-2022-12-06-kusto-detective-agency-1-index-mdx-892e6fb327cc405c7391.js.map